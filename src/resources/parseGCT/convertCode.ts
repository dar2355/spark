import {writeFileSync} from 'fs';
import parser from './syntax';

const codeToParse = `
* 0402E5AC 8819000B
* 2A5B8A0A 00FF0000
* 025B8A0A 00000001
* E2000001 00000000
* 80000007 80583FF4
* 80000001 80583FF8
* 80000002 80583FFC
* 80000003 805B8A08
* 80000004 80584000
* 80000006 804DE4B0
* 60000003 00000000
* 86410004 FFFFFFFF
* 88330004 00000006
* 8A000844 00000020
* 8A000864 00000000
* 4A001004 00000000
* 38000000 FF9F0060
* 38000020 FFFB0004
* 86410002 00000001
* E2000002 00000000
* 28583FFE FFFE0001
* 38000000 FFDF0020
* 38000020 FFFD0002
* 86010002 00010000
* 2C583FFC 00000002
* 02583FFC 00000000
* E2000003 00000000
* 38000020 EFFF1000
* 86410003 00000001
* E2000001 00000000
* 38000020 FFEF0010
* 2A5B8A0A FF000000
* 025B8A0A 00000100
* E2000002 00000000
* 38000000 FFBF0040
* 38000020 FFFE0001
* 86410001 00000001
* E2000002 00000000
* 38000000 F7FF0800
* 38000020 FFFD0002
* 86410001 00010000
* E2000002 00000000
* 38000000 F7FF0800
* 38000020 FFFE0001
* 86410007 00000001
* E2000003 00000000
* 80100004 00000008
* 80100006 00000008
* 62000000 00000000
* 4A000000 90000000
* 3817F36A 00FF0000
* 02583FF0 00070000
* E0000000 80008000
`.replace(/\n|\r| |\*/g, "");

const codeAsBin = Buffer.from(codeToParse, "hex");

writeFileSync(`${__dirname}/out.txt`, parser(codeAsBin), 'utf8');